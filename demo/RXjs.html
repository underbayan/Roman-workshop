<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<input id="input" type="text"/>
<p id="results"></p>
</body>
<script src="./js/jquery.js"></script>
<script src="./js/rx.js"></script>
<script>
    // 使用RxJS来隔离你的状态
//    var button = document.querySelector('button');
//    Rx.Observable.fromEvent(button, 'click')
//            .scan(count => count + 1, 0)
//    .subscribe(count => console.log(`Clicked ${count} times`));

//    每秒最多只能点击一次的实现
//    var button = document.querySelector('button');
//    Rx.Observable.fromEvent(button, 'click')
//            .throttleTime(1000)
//            .scan(count => count + 1, 0)
//    .subscribe(count => console.log(`Clicked ${count} times`));

    // 可观察者 不断的的推送消息 4个
//    var observable = Rx.Observable.create(function (observer) {
//        observer.next(1);
//        observer.next(2);
//        observer.next(3);
//        setTimeout(() => {
//            observer.next(4);
//        observer.complete();
//    }, 1000);
//    });
    //订阅者 不断的接受消息 并且处理消息
//    console.log('just before subscribe');
//    observable.subscribe({
//                next: x => console.log('got value ' + x),
//            error: err => console.error('something wrong occurred: ' + err),
//            complete: () => console.log('done'),
//    });
//    console.log('just after subscribe');
    //result
//    just before subscribe
//    got value 1
//    got value 2
//    got value 3
//    just after subscribe
//    got value 4
//    done

//    function foo() {
//        console.log('Hello');
//        return 42;
//        return 100; // dead code. will never happen
//    }
//    var foo = Rx.Observable.create(function (observer) {
//        console.log('Hello');
//        observer.next(42);
//        observer.next(100); // "return" another value
//        observer.next(200); // "return" yet another
//    });
//    console.log('before');
//    foo.subscribe(function (x) {
//        console.log(x);
//    });
//    console.log('after');
//    "before"
//    "Hello"
//    42
//    100
//    200
//    "after"
</script>
</html>